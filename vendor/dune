(data_only_dirs cvc5)

(rule
 (deps
  (source_tree cvc5))
 (targets libcvc5.a libcadical.a libpicpoly.a libpicpolyxx.a)
 (action
  (chdir cvc5
   (progn
    ; (run pipx install -r contrib/requirements_build.txt)
    (run ./configure.sh --auto-download --static)
    (run make -C build -j 4)
    (bash "cp build/src/libcvc5.a ../libcvc5.a")
    (bash "cp build/deps/lib/libcadical.a ../libcadical.a")
    (bash "cp build/deps/lib/libpicpoly.a ../libpicpoly.a")
    (bash "cp build/deps/lib/libpicpolyxx.a ../libpicpolyxx.a")))))
